<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Gestion Compte</title>
        <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
        <!-- bootstrap 3.0.2 -->
        <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <!-- font Awesome -->
        <link href="../css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <!-- Ionicons -->
        <link href="../css/ionicons.min.css" rel="stylesheet" type="text/css" />
        <!-- DATA TABLES -->
        <link href="../css/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
        <!-- Theme style -->
        <link href="../css/home.css" rel="stylesheet" type="text/css" />

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>

        <![endif]-->

        <style type="text/css">
        #data{
            font-size:14px;
            padding:5px 5 5px 5px;
            display:block;
            width:100%;
            border:none;
            background: transparent;
  
        }

        .data input:focus,.data select:focus  { outline:none; border-bottom:1px solid #757575;}
 
        </style>
    </head>

    <body class="skin-black">

        <header class="header">
            <a href="index.html" class="logo">
                System de Rendez vous 
            </a>
            <nav class="navbar navbar-static-top" role="navigation">
                <a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <div class="navbar-right">
                    <ul class="nav navbar-nav">
                        <li class="dropdown notifications-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-warning"></i>
                                <span class="label label-warning">10</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li class="header">You have 10 notifications</li>
                                <li>
                                    <ul class="menu">
                                        <li>
                                            <a href="#">
                                                <i class="ion ion-ios7-people info"></i> 5 new members joined today
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-warning danger"></i> Very long description here that may not fit into the page and may cause design problems
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-users warning"></i> 5 new members joined
                                            </a>
                                        </li>

                                        <li>
                                            <a href="#">
                                                <i class="ion ion-ios7-cart success"></i> 25 sales made
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="ion ion-ios7-person danger"></i> You changed your username
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="footer"><a href="#">View all</a></li>
                            </ul>
                        </li>
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="glyphicon glyphicon-user"></i>
                                <span>Oumaima Sabi <i class="caret"></i></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li class="user-header bg-light-blue">
                                    <p>
                                        Oumaima Sabi 
                                        <small>Administrateur</small>
                                    </p>
                                </li>
                                <li class="user-footer">
                                    <div class="pull-right">
                                        <a href="#" class="btn btn-default btn-flat">Sign out</a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <div class="wrapper row-offcanvas row-offcanvas-left">
            <aside class="left-side sidebar-offcanvas">
                <section class="sidebar">
                    
                    <div class="user-panel">
                        <div class="pull-left info">
                            <p>Hello, Oumaima</p>

                            <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                        </div>
                    </div>
                    <ul class="sidebar-menu">
                        <li class="">
                            <a href="{{path('tableaudebord')}}">
                                <i class="fa fa-fw fa-bar-chart-o"></i> <span>Tableau de bord</span>
                            </a>
                        </li>
                        <li >
                            <a href="{{path('gestion_compte')}}">
                                <i class="fa fa-fw fa-users"></i> <span>Les utilisateurs</span>
                            </a>
                        </li>
                        <li >
                            <a href="{{path('gestion_admin')}}">
                                <i class="fa fa-fw fa-user-md"></i> <span>Les Administrateurs</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{path('gestion_creneau')}}">
                                <i class="fa fa-dashboard"></i> <span>Créneaux</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{path('rendezvous')}}">
                                <i class="fa fa-fw fa-calendar"></i> <span>Les Rendez-vous</span>
                            </a>
                        </li>
                        <li >
                            <a href="{{path('gestion_parametre')}}">
                                <i class="fa fa-fw fa-gears"></i> <span>Paramètrage</span>
                            </a>
                        </li>
                    </ul>
                </section>
            </aside>

            <aside class="right-side">
                <section class="content-header">
                    <h1>
                        Dashboard
                        <small>Control panel</small>
                    </h1>
                    <ol class="breadcrumb">
                        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                        <li class="active">Gestion de Compte</li>
                    </ol>
                </section>

                <!-- Main content -->
                <section class="content">
                    <div class="row">
                        
                        <div class="col-xs-12">
                            <div class="box">
                                <div class="box-header">
                                    <h3 class="box-title">Les Comptes</h3>                                    
                                </div><!-- /.box-header -->
                                <div class="box-body table-responsive-xl">
                                    <table id="example1" class="table  table-striped cell-border ">
                                        <thead>
                                            <tr>
                                                <th>Nom</th>
                                                <th>Prenom</th>
                                                <th>Date de naissance</th>
                                                <th>Telephone</th>
                                                <th>Email</th>
                                                <th>Etat du Compte</th>
                                                <th>Reservation</th>
                                                <th>RDVmanqués</th>
                                                <th>Etat</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                {% for repo in repos %}
                                                {% if repo.firstName == 'bot' %}
                                                    <tr>
                                                        <td>{{repo.firstName}}</td>
                                                        <td>{{repo.lastName}}</td>
                                                        <td>{{repo.birthDate}}</td>
                                                        <td>{{repo.numberPhone}}</td>
                                                        <td>{{repo.email}}</td>
                                                        <td>{{repo.userState}}</td>
                                                        <td>{{repo.numberReservation}}</td>
                                                        <td>{{repo.numberMissedAppointment}}</td>
                                                        <td></td>
                                                        <td><small class="label label-info">Modification Impossible</small></td>
                                                    </tr>
                                                {% else %}
                                                    <tr>
                                                            <td><input type="text" name="firstName"  id="data" value={{repo.firstName}} onblur="saveData(event,'name','{{repo.id}}')"></td>
                                                            <td><input type="text" name="lastName"  id="data" value={{repo.lastName}} onblur="saveData(event,'lastName','1')" ></td>
                                                            <td><input type="date" name="birthDate"  id="data" value={{repo.birthDate}} onblur="saveData(event,'date','1')" ></td>
                                                            <td><input type="text" name="numberPhone"  id="data" onblur="saveData(event,'numberPhone','1')" value={{repo.numberPhone}}   ></td>
                                                            <td><input type="text" name="email"  id="data" value={{repo.email}} onblur="saveData(event,'email','1')" ></td>
                                                        {% if repo.userState == 'banni' %}
                                                            <td><small class="label label-danger">{{repo.userState}}</small></td>
                                                        {% elseif repo.userState == 'active' %}
                                                            <td><small class="label label-success">{{repo.userState}}</small></td>
                                                        {% elseif repo.userState == 'enattente'%}
                                                            <td><small class="label label-default">{{repo.userState}}</small></td>
                                                        {% endif %}
                                                            <td>{{repo.numberReservation}}</td>
                                                            <td>{{repo.numberMissedAppointment}}</td>
                                                            <td>
                                                                <a class="btn btn-xs bg-gray" type="button" href="{{path('compte_onhold', {'id': repo.id})}}" ><i class="fa fa-fw fa-clock-o"></i></a>
                                                                <a class="btn btn-xs bg-green" type="button" href="{{path('compte_active', {'id': repo.id})}}" ><i class="fa fa-fw fa-check-square-o" ></i></a>
                                                                <a class="btn btn-xs bg-red" type="button" href="{{path('compte_banni', {'id': repo.id})}}" ><i class="fa fa-fw fa-minus-circle"></i></a>
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-xs bg-maroon" type="button" href="{{ path('compte_delete', {'id': repo.id}) }}" ><i class="fa fa-trash-o"></i></a>
                                                                <a class="btn btn-danger btn-xs" type="submit" name="submit" href="{{ path('gestion_byiduser', {'id': repo.id}) }}" ><i class="fa fa-fw fa-edit"></i></a>
                                                            </td>
                                                        
                                                    </tr>
                                                {% endif %}
                                                {% endfor %}
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Nom</th>
                                                <th>Prenom</th>
                                                <th>Date de naissance</th>
                                                <th>Telephone</th>
                                                <th>Email</th>
                                                <th>Etat du Compte</th>
                                                <th>Reservation</th>
                                                <th>RDVmanqués</th>
                                                <th>Etat</th>
                                                <th>Action</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->
                        </div>
                    </div>
                    <div class="form-popup" id="myForm">
                        <form role="form" class="form-container">
                            <div class="box box-solid">
                            <span onclick="document.getElementById('myForm').style.display='none'" class="close" title="Close Modal">&times;</span>
                                <div class="box-body">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Nom </label>
                                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter nom">
                                    </div>
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Prenom </label>
                                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter prenom">
                                    </div>
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">date de naissance </label>
                                        <input type="date" class="form-control" id="exampleInputEmail1" placeholder="">
                                    </div>
                                </div><!-- /.box-body -->
                            </div>
<!-- 
                                    <div class="box-footer">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </div> -->
                        </form>
                    </div>
                    <div class="form-popup" id="myForm1">

                        <form role="form" class="form-container">
                            <div class="box box-solid">
                                <span onclick="document.getElementById('myForm1').style.display='none'" class="close" title="Close Modal">&times;</span>
                                <div class="box-body">
                                    <dl>
                                        <dt>ID</dt>
                                        <dd>183</dd>
                                        <dt>Nom</dt>
                                        <dd>Sabi</dd>
                                        <dt>Prenom</dt>
                                        <dd>Oumaima</dd>
                                        <dt>Date de Naissance</dt>
                                        <dd>05/10/1996</dd>
                                    </dl>
                                </div><!-- /.box-body -->
                            </div>
                        </form>
                    </div>

                </section><!-- /.content -->
            </aside><!-- /.right-side -->
        </div><!-- ./wrapper -->


        <!-- jQuery 2.0.2 -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="../js/bootstrap.min.js" type="text/javascript"></script>
        <!-- DATA TABES SCRIPT -->
        <script src="../js/plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>
        <script src="../js/plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
        <!-- AdminLTE App -->
        <script src="../js/AdminLTE/app.js" type="text/javascript"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


        <!-- page script -->
        <script type="text/javascript">
            
                $("#example1").dataTable();
                $('#example').dataTable({
                    "bPaginate": true,
                    "bLengthChange": false,
                    "bFilter": false,
                    "bSort": true,
                    "bInfo": true,
                    "bAutoWidth": false
                });
                function saveData(event,fieldname,primaryid){   
                console.log($('#'+event.target.id).val());
                console.log(fieldname);
                console.log(primaryid);

                 function data() 
            {
                document.getElementById("data1").style.display = "block";
                document.getElementById("data2").style.display = "none";
            }
        }
           
        </script>
        <script type="text/javascript">
            function openForm() 
            {
                document.getElementById("myForm").style.display = "block";
            }
            function openForm1() 
            {
                document.getElementById("myForm1").style.display = "block";
            }

           
            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) 
            {
                if (event.target ==document.getElementById('myForm1')) 
                {
                    document.getElementById('myForm1').style.display = "none";
                }
                else if (event.target == document.getElementById('myForm')) 
                {
                    document.getElementById('myForm').style.display = "none";
                }
            }

             function sweet(){
                swal("voulez vous vraiment supprimer ce Compte ?");
            };

        
        </script>
    </body>
</html>